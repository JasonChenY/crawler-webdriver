{
  "name" : "Novozymes",
  "use_proxy": true,
  "actions" :
  [
    {
      "element": "http://www.novozymes.com/en/careers/jobs/Pages/default.aspx?country=China&countryId=733&",
      "how" : "url",
      "cmd" : "load",
      "expections" : [{
        "condition" : "presenceOfElementsLocated",
        "element": "//DIV[@class='DotComStepStoneResults TotalHits']",
      }],
    },
  ],
  "procedure": {
    "loop": {
      "xpath_prefix": "//DIV[@class='DotComStepStoneResultsBox' and contains(@style,'block')]",
      "loop_type": "begin",
      "actions": [
        {
          "element": "DIV[1]/A",
          "cmd": "openInNewTab",
          "expections" : [
            {
              "condition": "newWindowIsOpened",
            },
            {
              "condition": "visibilityOfElementLocated",
              "element" : "ctl00_PlaceHolderMain_ctl00_ContentEditReader__ControlWrapper_RichHtmlField",
              "how" : "ID",
            }
          ]
        },
      ],
    },
    "extracts": {
      "job_title": {
        "element": "DIV[1]/A",
      },
      "job_location": {
        "element": "DIV[4]",
        "transforms" : [
            {
                "how" : "location_regex",
                "value" : "s/City: ([^(]*).*/$1/g", 
            }
        ]
      },
    },
    "procedure": {
      "extracts": {
        "job_description": {
          "element" : "ctl00_PlaceHolderMain_ctl00_ContentEditReader__ControlWrapper_RichHtmlField",
          "how" : "ID",
        },
        "job_url": {
          "how": "url",
        },
      },
      "actions": [
        {
          "cmd": "restore",
        },
      ]
    },
  }
}

